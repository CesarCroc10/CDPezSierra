<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CD Pez Sierra - Pagos</title>
    <link rel="stylesheet" th:href="@{/css/pagos.css}">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <img th:src="@{/img/logo.png}" alt="Logo CD Pez Sierra">
            </div>
            <nav>
                <ul>
                    <li>
                        <img th:src="@{/img/dashbord.png}" alt="Dashboard Icon" class="icon">
                        <a href="./index.html">Dashboard</a>
                    </li>
                    <li class="active">
                        <img th:src="@{/img/pagos/icon0.png}" alt="Payments Icon" class="icon">
                        <a href="./pagos.html">Pagos</a>
                    </li>
                    <li>
                        <img th:src="@{/img/asistencia.png}" alt="Attendance Icon" class="icon">
                        <a href="/asistencia.html">Asistencia</a>
                    </li>
                    <li>
                        <img th:src="@{/img/planesEstudio.png}" alt="Study Plan Icon" class="icon">
                        <a href="/planes.html">Planes de Estudio</a>
                    </li>
                    <li>
                        <img th:src="@{/img/pagos/esticon.png}" alt="Students Icon" class="icon">
                        <a href="/estudiantes.html">Estudiantes</a>
                    </li>
                    <li>
                        <img th:src="@{/img/registro.png}" alt="Register Icon" class="icon">
                        <a href="/registro.html">Registro</a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main>
            <header>
                <div class="header-title">
                    <h2>CD Pez Sierra</h2>
                </div>
                <div class="user-info">
                    <div class="search-box">
                        <img th:src="@{/img/lupita.png}" alt="Buscar" class="search-icon">
                        <input type="text" placeholder="Buscar..." class="search">
                    </div>
                    <img th:src="@{/img/perfil.png}" alt="Usuario" class="user-icon">
                    <span>David Smith</span>
                </div>
            </header>

            <!-- Sección de Pagos -->
            <section class="cards-pagos">
                <div class="cards-title">
                    <h2>Pagos</h2>
                    <div class="btn-container">
                        <button class="exp-btn">Exportar</button>
                        <a th:href="@{/pagos/nuevo}" class="new-btn">Nuevo pago</a>
                    </div>
                </div>
                <div class="cards-container">
                    <div class="card">
                        <img th:src="@{/img/pagos/icon1.png}" class="img-icon" alt="Icono Todos los pagos">
                        <h3>Todos los pagos</h3>
                        <p th:text="${pagos.size()}">0</p>
                    </div>
                    <div class="card">
                        <img th:src="@{/img/pagos/icon2.png}" class="img-icon" alt="Icono Pagos exitosos">
                        <h3>Pagos exitosos</h3>
                        <p>$2,380</p>
                    </div>
                    <div class="card">
                        <img th:src="@{/img/pagos/icon3.png}" class="img-icon" alt="Icono Pagos pendientes">
                        <h3>Pagos pendientes</h3>
                        <p>$380</p>
                    </div>
                    <div class="card">
                        <img th:src="@{/img/pagos/icon5.png}" class="img-icon" alt="Icono Pagos incompletos">
                        <h3>Pagos incompletos</h3>
                        <p>$670</p>
                    </div>
                </div>                
            </section>
            
            <!-- Pagos Tabla -->
            <section class="pagos-table">
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>CÓDIGO</th>
                            <th>ALUMNO</th>
                            <th>DESCRIPCIÓN</th>
                            <th>ESTADO</th>
                            <th>FECHA PAGO</th>
                            <th>FECHA VENCIMIENTO</th>
                            <th>MONTO</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:if="${#lists.isEmpty(pagos)}">
                            <td colspan="8" class="text-center">No hay pagos registrados.</td>
                        </tr>
                        <tr th:each="pago : ${pagos}">
                            <td><input type="checkbox"></td>
                            <td th:text="${pago.idPago}"></td>
                            <td th:text="${pago.idAlumno}"></td>
                            <td>Pago de actividades</td> <!-- Personaliza según tu descripción -->
                            <td th:text="${pago.estado}"></td>
                            <td th:text="${#dates.format(pago.fechaPago, 'MMM dd, yyyy')}"></td>
                            <td th:text="${#dates.format(pago.fechaVencimiento, 'MMM dd, yyyy')}"></td>
                            <td th:text="${pago.monto}"></td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </div> 
</body>
</html>
